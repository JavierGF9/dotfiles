#!/bin/sh

# Pause and resume dunst when xscreensaver is active.
# Source:
#   https://github.com/dunst-project/dunst/issues/77#issuecomment-418526681

xscreensaver-command -watch | while read event rest; do
        case $event in
                "LOCK"|"BLANK")
                        pkill -USR1 -x -u "$USER" dunst
                        logger Paused dunst
                        ;;
                "UNBLANK")
                        pkill -USR2 -x -u "$USER" dunst
                        logger Resumed dunst
                        ;;
        esac
done
